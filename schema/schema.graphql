input DemoInput {
	version: String!
}

type demo @aws_api_key @aws_cognito_user_pools {
	id: String!
	version: String!
}

type Mutation {
	addDemo(input: DemoInput!): demo @aws_cognito_user_pools(cognito_groups: ["admin"])
	processRagQuery(input: RagInput!): RagResponse
		@aws_cognito_user_pools(cognito_groups: ["admin"])
}

type Query {
	getDemos: [demo!] @aws_api_key @aws_cognito_user_pools(cognito_groups: ["admin"])
	getDemosConsistent: [demo!] @aws_api_key @aws_cognito_user_pools(cognito_groups: ["admin"])
}

type Subscription {
	onRagResponse(id: String!): RagResponse
		@aws_subscribe(mutations: ["processRagQuery"])
}

type RagResponse {
	id: String!
	response: String!
	status: String!
}

input RagInput {
	query: String!
}
